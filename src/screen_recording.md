# Screen recording

### `screenkey`

- Install

    ```bash
    doas pkg_add screenkey
    ```
</br>

- Configuration

    When you run `screenkey`, the last config will be saved to `~/.config/screenkey.json`.

    But DO NOT edit this file manually, you should use the startup parameters or the `peference`
    menu in the tray icon to do that.

    If you don't pass the `--no-systray`, then the tray icon will be shown.

</br>

- Create `~/scripts/toggle-screenkey.sh` with the following script:

    ```bash
    #!/usr/local/bin/fish --no-config
    
    set PROCESS_ID (ps ax -U (whoami) | grep -e "/usr/local/bin/screenkey" | grep -v -e "grep -e /usr/local/bin/screenkey" | awk '{print $1}')
    # echo "PROCESS_ID: $PROCESS_ID"
    
    if test "$PROCESS_ID" = ""
        screenkey --no-systray --timeout 1 \
                --opacity 0.5 \
                --no-whitespace \
                --font "SauceCodePro Nerd Font" \
                --font-size medium \
                --font-color "#ACACE6E6FEFE" \
                --bg-color "#1C1C1C1C1C1C" &
    else
        kill -9 $PROCESS_ID
    end
    ```

    </br>


- Add it to `sxhkd`

    ```bash

    ## Toggle screenkey
    super + s
        ~/scripts/toggle-screenkey.sh &
    ```

    </br>


### Taking screenshot

- Install

    ```bash
    doas pkg_add scrot
    ```

    </br>


- Add it to `sxhkd`

    ```bash
    # Screenshot select area
    alt + super + p
        scrot --select '%Y-%m-%d_$wx$h.png' -e 'mv $f ~/Photos' &
    
    # Screenshot fullscreen
    ctrl + super + p
        scrot '%Y-%m-%d_%H-%M-%S_$wx$h.png' -e 'mv $f ~/Photos' &
    ```

    </br>
